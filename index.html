<!DOCTYPE html>
<html>
  <head>
    <style>
      /* Add your CSS styles here */
      /* Styling for the form elements */
      form {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
      }
      label {
        font-size: 1.2em;
        margin-bottom: 10px;
      }
      input[type="text"], input[type="file"] {
        padding: 10px;
        font-size: 1.2em;
        margin-bottom: 20px;
        border: none;
        border-bottom: 2px solid #ccc;
        width: 80%;
      }
      button {
        padding: 10px 20px;
        background-color: #4CAF50;
        color: white;
        border: none;
        font-size: 1.2em;
        cursor: pointer;
        margin-top: 20px;
      }
    </style>
    <script>
      function generatePoster() {
        // Get the name and image from the form
        var name = document.getElementById("name").value;
        var image = document.getElementById("image").files[0];
        
        // Create a canvas element to draw the poster on
        var canvas = document.createElement("canvas");
        var ctx = canvas.getContext("2d");

        // Create an image object from the template poster
        var poster = new Image();
        poster.src = "selfie.png";

        // Wait for the template poster to load
        poster.onload = function() {
          canvas.width = poster.width;
          canvas.height = poster.height;
          
          // Draw the template poster on the canvas
          ctx.drawImage(poster, 0, 0);
          
          // Set the font and font size for the name text
          ctx.font = "36px Arial";
          ctx.fillStyle = "white";
          
          // Calculate the position of the name text
          var nameWidth = ctx.measureText(name).width;
          var nameX = (canvas.width - nameWidth) / 2;
          var nameY = canvas.height / 2;
          
          // Draw the name text on the poster
          ctx.fillText(name, nameX, nameY);
          
          // Create an image object from the uploaded image
          var img = new Image();
          img.src = URL.createObjectURL(image);
          
          // Wait for the uploaded image to load
          img.onload = function() {
            // Resize the image to fit on the poster
            var imgWidth = 250;
            var imgHeight = 250;
            var imgX = (canvas.width - imgWidth) / 4;
            var imgY = nameY + (nameWidth / 4);
            
            // Draw the image

            // Draw the image on the poster
            ctx.drawImage(img, imgX, imgY, imgWidth, imgHeight);
            
            // Save the final poster as an image file
            var link = document.createElement("a");
            link.href = canvas.toDataURL();
            link.download = "customized_poster.jpg";
            link.click();
          };
        };
      }
    </script>
  </head>
  <body>
    <form>
      <label for="name">Name:</label>
      <input type="text" id="name" required>
      <br>
      <label for="image">Image:</label>
      <input type="file" id="image" accept="image/*" required>
      <br>
      <button type="button" onclick="generatePoster()">Generate Poster</button>
    </form>
  </body>
</html>
